@using MultivendorWebViewer.ViewModels;
@using MultivendorWebViewer.Common;
@using MultivendorWebViewer.Helpers;
@using MultivendorWebViewer.Components;
@model DataViewString<UserViewModel>
@{
    ViewBag.Title = "Multivendor Web";
    Layout = "~/Views/Shared/_AdministrationLayout.cshtml";
}

@{
    var userItems = Model.VisibleItems;
    var columns = new List<TableColumn<UserViewModel>>();

    columns.Add(new TableColumn<UserViewModel>("UserName")
    {
        Caption = CustomStrings.UserName,
        ValueFunction = r => r.UserName
    });
    columns.Add(new TableColumn<UserViewModel>("FirstName")
    {
        Caption =CustomStrings.FirstName,
        ValueFunction = r =>r.Customer!=null? r.Customer.FirstName: string.Empty,
        ClassName = "company-user-first-name",
        CellClassName = "company-user-first-name",
    });

}

@Html.Table(userItems, columns, definition: new TableDefinition<UserViewModel>
{
    Hottrack = true,
    AutoHideEmptyColumns = true,
    SelectionMode = TableSelectionMode.None,
    RowFormatter = (row, rowTag) =>
    {
        rowTag.MergeAttribute("data-user-id", row.Id.ToString());
    },
}, htmlAttributes: new
{
    @class = "user-table"
});

